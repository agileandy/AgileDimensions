(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[8820],{1851:(e,i,s)=>{"use strict";s.d(i,{A6:()=>a,PH:()=>r,Yb:()=>l});var t=s(16252),n=s(26153),o=s(38369);const r=e=>decodeURIComponent(e).replace(/\.hash\./g,"#"),l=(e,{newPath:i=!1}={})=>{const s=(0,t.trimStart)(e,"#"),n=i?s:`#${s}`;return(0,o.CD)(i?`/hashtags/${encodeURIComponent(n)}`:`/search/${r=n,encodeURIComponent(r.toLowerCase().replace(/#/g,".hash."))}`);var r},a=(e,i,{newPath:s=!1}={})=>(0,n.d)(l(e,{newPath:s}),i)},16979:(e,i,s)=>{var t={"./messages_ar.json":[40107,7621],"./messages_bg.json":[2115,4113],"./messages_ca.json":[15024,3830],"./messages_cs.json":[99602,1656],"./messages_da.json":[98687,7841],"./messages_de.json":[27251,9965],"./messages_el.json":[71381,7351],"./messages_en.json":[23707,7445],"./messages_es.json":[27212,7022],"./messages_fi.json":[90405,3555],"./messages_fr.json":[39264,5366],"./messages_he.json":[3551,7169],"./messages_hi.json":[9899,9429],"./messages_hr.json":[53234,5052],"./messages_hu.json":[30991,5233],"./messages_id.json":[52777,2259],"./messages_it.json":[9881,3843],"./messages_ja.json":[84273,9959],"./messages_ko.json":[34766,8756],"./messages_lt.json":[17512,6514],"./messages_lv.json":[99706,2916],"./messages_ms.json":[27124,1382],"./messages_nl.json":[68334,7140],"./messages_no.json":[98447,7733],"./messages_pl.json":[54876,2622],"./messages_pt.json":[76356,838],"./messages_ro.json":[19371,9273],"./messages_ru.json":[7165,4883],"./messages_sk.json":[78442,7584],"./messages_sl.json":[97735,8477],"./messages_sv.json":[7961,199],"./messages_th.json":[65236,5062],"./messages_tl.json":[69048,6498],"./messages_tr.json":[65662,5296],"./messages_uk.json":[24612,7606],"./messages_vi.json":[18965,1843],"./messages_zh.json":[17006,2732]};function n(e){if(!s.o(t,e))return Promise.resolve().then((()=>{var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}));var i=t[e],n=i[0];return s.e(i[1]).then((()=>s.t(n,19)))}n.keys=()=>Object.keys(t),n.id=16979,e.exports=n},88131:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>de});var t=s(60751),n=s.n(t),o=s(88690),r=s(22808),l=s(18302),a=s(95169),g=s(30977),p=s(4615),u=s(29440),d=s(85281),c=s(45254),h=s(9450),m=s(66379),f=s(34760),b=s(87295),P=s(95624),R=s(28388),w=s(85041),_=s(66061),C=s(81595),v=s(69605),q=s(9746),x=s(19625),E=s(31690),j=s(64890),I=s(76599),S=s(75640),D=s(68701),T=s(54558),y=s(56040),B=s(77552),k=s(57827),A=s(97598),H=s.n(A),L=s(55530),U=s.n(L),F=s(16252),V=s(79170);var M=s(1851),G=s(12675),N=s(22054),W=s(70879),$=s(50990),O=s(73293);const Y="moHCnT",Q="fTEXDR";class z extends n().PureComponent{constructor(e){super(e),this.state={error:!1},this.getImagePluginConfig=()=>({encoding:this.props.isAvifEncodingEnabled?"AVIF":void 0,imageProps:e=>this.props.pageUrl?{"data-pin-url":this.props.pageUrl,"data-pin-media":(0,F.isString)(e)?e:(0,V.VG)({image:e,maxWidth:5e3,maxHeight:5e3})}:{}}),this.getGalleryPluginConfig=()=>{const{isInEditor:e,Wix:i}=this.props;return{imageProps:()=>({"data-pin-url":this.props.pageUrl}),scrollingElement:e?{addEventListener:(e,s)=>{i.addEventListener(e.toUpperCase(),s)},removeEventListener:(e,s)=>{i.removeEventListener(e.toUpperCase(),s)}}:"undefined"!=typeof window&&window}},this.getTextColorPluginConfig=()=>{const{appSettings:e,isHexColor:i}=this.props,s=(0,$.MZ)({appSettings:e});return{customStyleFn:(0,$.NQ)(s,{isHexColor:i}),styleSelectionPredicate:(0,$.l8)(s,{isHexColor:i})}},this.getTextHighlightPluginConfig=()=>{const{appSettings:e,isHexColor:i}=this.props,s=(0,$.MZ)({appSettings:e});return{customStyleFn:(0,$.n$)(s,{isHexColor:i}),styleSelectionPredicate:(0,$.l8)(s,{isHexColor:i})}},this.getLinkPreviewPluginConfig=()=>({enableEmbed:!0,enableLinkPreview:!1}),this.getHashtagPluginConfig=()=>{const{hashtagNavigate:e,sectionUrl:i}=this.props;return{onClick:i=>{i.preventDefault(),i.stopPropagation(),e((0,M.Yb)(i.target.innerText,{newPath:this.props.isHashtagPageAsFeedPageEnabled}))},createHref:e=>(0,M.A6)(e,i,{newPath:this.props.isHashtagPageAsFeedPageEnabled})}},this.getActionButtonPluginConfig=()=>({onClick:this.props.onButtonClick}),this.getFileDownloadBIProps=(e,i)=>{const{postId:s,isDemoPost:t}=this.props;return{file_ext:e.type,file_id:e.id,file_size:e.size,mime_type:e.mimeType,post_stable_id:s,is_demo:t,origin:"post",success:i}},this.getFilePluginConfig=()=>{const{postId:e,bi:i,actions:s,metasiteId:t,instance:n,resolveFileUrl:o}=this.props;return{resolveFileUrl:r=>("undefined"!=typeof navigator&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&s.showMessage(N.y$),o?o(t,n)(r).then((e=>(i.fileDownloaded(this.getFileDownloadBIProps(r,!0)),e))).catch((()=>i.fileDownloaded(this.getFileDownloadBIProps(r,!1)))):s.requestFileDownloadUrl(e,r.path,r.id,r.mimeType).then((({url:e})=>(i.fileDownloaded(this.getFileDownloadBIProps(r,!0)),e))).catch((()=>i.fileDownloaded(this.getFileDownloadBIProps(r,!1)))))}},this.getPollSettings=()=>({onBeforeVote:({voteRole:e})=>{const{currentUser:i,actions:s,isBusinessManager:t}=this.props;return new Promise(((n,o)=>t?o():i||"ALL"===e?n():void s.requestLogin().then(n,o)))}}),this.getPlugins=()=>[this.props.pluginAudio(),this.props.pluginCodeBlock(),this.props.pluginDivider(),this.props.pluginLinkButton(),this.props.pluginGallery(this.getGalleryPluginConfig()),this.props.pluginGiphy(),this.props.pluginHashtag(this.getHashtagPluginConfig()),this.props.pluginHtml(),this.props.pluginImage(this.getImagePluginConfig()),this.props.pluginLineSpacing(),this.props.pluginIndent(),this.props.pluginLink(),...this.props.isRicosEmbedButtonsEnabled?[this.props.pluginLinkPreview(this.getLinkPreviewPluginConfig())]:[],this.props.pluginTextColor(this.getTextColorPluginConfig()),this.props.pluginTextHighlight(this.getTextHighlightPluginConfig()),this.props.pluginVideo(),this.props.pluginFileUpload(this.getFilePluginConfig()),this.props.pluginActionButton(this.getActionButtonPluginConfig()),this.props.pluginVerticalEmbed(),this.props.pluginTable(),this.props.pluginCollapsibleList(),...this.props.pluginPoll?[this.props.pluginPoll(this.getPollSettings())]:[]],this.onError=e=>{this.state.error||this.setState({error:e})},this.wixExperiments={all:()=>e.experiments}}render(){if(this.state.error)return this.props.fallback();const{WixRicosViewer:e,content:i,rceVersion:s,theme:t={},getStyle:o,isCompact:r,appSettings:l,section:a,isBusinessManager:g,isSeo:p,isMobile:u,locale:d,isPostPageBundle:c,instance:h,postId:m,parentClass:f,setViewerRef:b,baseUrl:P,iframeSandboxDomain:R,shouldApplyPostDesignInFeed:w,visitorId:_}=this.props,C=c,v=this.getPlugins(),q=(0,O.w)({appSettings:l,isPostPage:C,isMobile:u,section:a,parentClass:f,shouldApplyPostDesignInFeed:w}),x=o(l),E=U()(Q);return n().createElement("div",{className:Y},n().createElement("div",{style:x,ref:b,className:E,"data-rce-version":s},n().createElement(e,{plugins:v,content:i,theme:{...q,...t},locale:d,instance:h,onError:this.onError,isMobile:u,seoSettings:p,linkSettings:G.A,wixExperiments:this.wixExperiments,addAnchors:!0,baseUrl:P,iframeSandboxDomain:R,biSettings:{consumer:"Blog",contentId:m,platform:g?"BM":"Livesite",usage:r?"Comment":C?"Post":a,defaultParams:{visitorId:_}}})))}}z.propTypes={WixRicosViewer:H().elementType.isRequired,pluginAudio:H().func.isRequired,pluginCodeBlock:H().func.isRequired,pluginDivider:H().func.isRequired,pluginLinkButton:H().func.isRequired,pluginGallery:H().func.isRequired,pluginGiphy:H().func.isRequired,pluginHashtag:H().func.isRequired,pluginHtml:H().func.isRequired,pluginImage:H().func.isRequired,pluginLineSpacing:H().func.isRequired,pluginIndent:H().func.isRequired,pluginLink:H().func.isRequired,pluginLinkPreview:H().func.isRequired,pluginTextColor:H().func.isRequired,pluginTextHighlight:H().func.isRequired,pluginVideo:H().func.isRequired,pluginFileUpload:H().func.isRequired,pluginActionButton:H().func.isRequired,pluginVerticalEmbed:H().func.isRequired,pluginTable:H().func.isRequired,pluginCollapsibleList:H().func.isRequired,pluginPoll:H().func,postId:H().string.isRequired,content:H().object.isRequired,rceVersion:H().string.isRequired,parentClass:H().string,theme:H().object,getStyle:H().func.isRequired,isBusinessManager:H().bool,isCompact:H().bool.isRequired,appSettings:H().object.isRequired,isSeo:H().bool.isRequired,isInEditor:H().bool,isMobile:H().bool.isRequired,locale:H().string.isRequired,isPostPageBundle:H().bool.isRequired,instance:H().string.isRequired,metasiteId:H().string.isRequired,pageUrl:H().string.isRequired,isHexColor:H().func.isRequired,hashtagNavigate:H().func.isRequired,baseUrl:H().string,section:H().string.isRequired,sectionUrl:H().string.isRequired,onButtonClick:H().func,disableTheme:H().bool,isHashtagPageAsFeedPageEnabled:H().bool,isRicosEmbedButtonsEnabled:H().bool,Wix:H().object.isRequired,experiments:H().object.isRequired,setViewerRef:H().func.isRequired,isDemoPost:H().bool,shouldApplyPostDesignInFeed:H().bool,resolveFileUrl:H().func.isRequired,visitorId:H().string},z.defaultProps={isCompact:!1,isBusinessManager:!1,fallback:()=>"Content cannot be displayed",getStyle:W.Ay};const J=z;class K extends n().Component{constructor(){super(...arguments),this.state={viewerRef:null},this.setViewerRef=e=>this.setState({viewerRef:e})}render(){const{isMobile:e,TextSelectionToolbar:i,TwitterButton:s,isTwitterEnabled:t}=this.props;return n().createElement("div",{className:Y},n().createElement(J,{...this.props,setViewerRef:this.setViewerRef}),t&&!e?n().createElement(i,{container:this.state.viewerRef},(e=>n().createElement(s,{selectedText:e}))):null)}}K.propTypes={TextSelectionToolbar:H().elementType.isRequired,TwitterButton:H().elementType.isRequired,isMobile:H().bool.isRequired,isTwitterEnabled:H().bool};const X=K;var Z=s(77933),ee=s(66215),ie=s(65259),se=s(20915),te=s(51880),ne=s(84329),oe=s(63971),re=s(11366),le=s(1408),ae=s(78411),ge=s(72859),pe=s(711),ue=s(87007);s(2829),s(57269),s(91303);const de=e=>{var i;const s=(null==(i=e.post)?void 0:i.isDemo)??!1,t=(0,D.S)(e.post),A=(0,se.d4)(T.Qd),H=(0,se.d4)(T.a$),L=(0,se.dN)(),{isDesktop:U,isMobile:F}=(0,Z.A)(),{isPluginXEnabled:V}=(0,ee.G)(),M=(0,se.d4)((e=>({appSettings:(0,te.tl)(e),isSeo:(0,ge.ah)(e),isInEditor:(0,ge.sb)(e),isInPreview:(0,ge.bU)(e),isPostPageBundle:(0,T.Ym)(e),locale:(0,oe.JK)(e),instance:(0,ge.iE)(e),pageUrl:(0,ge.ID)(e),baseUrl:(0,ue.$_)(e),section:(0,le.S)(e),sectionUrl:(0,ue.Do)(e),iframeSandboxDomain:(0,re.m)(e),currentUser:(0,y.HW)(e),isHashtagPageAsFeedPageEnabled:(0,B.b)(e,k.KG),isRicosEmbedButtonsEnabled:(0,B.b)(e,k.pY),isAvifEncodingEnabled:(0,B.b)(e,ie.f.USE_AVIF_ENCODING),experiments:(0,B.D)(e),shouldApplyPostDesignInFeed:(0,ne.h)(e),metasiteId:(0,pe._G)(e),visitorId:(0,pe.rP)(e,"aid")||(0,pe.rP)(e,"uid")}))),G={disableTheme:!0,hashtagNavigate:L.navigateWithinBlog,isDesktop:U,isMobile:F,postId:t,videoHost:A,imageHost:H,isTwitterEnabled:V,...e,...M,WixRicosViewer:o.WixRicosViewer,pluginAudio:f.w,pluginCodeBlock:r.w,pluginDivider:b.L,pluginLinkButton:P.w,pluginGallery:R.I,pluginGiphy:w.V,pluginHashtag:l.Q,pluginHtml:_.R,pluginImage:C.t,pluginLineSpacing:a.P,pluginIndent:g.O,pluginLink:p.k,pluginLinkPreview:v.u,pluginTable:q.K,pluginTextColor:u.Q,pluginTextHighlight:u.L,pluginVideo:x.j,pluginFileUpload:E.j,pluginActionButton:P.Y,pluginVerticalEmbed:j.j,pluginCollapsibleList:I.u,pluginPoll:S.N,content:e.initialRawState,rceVersion:d.A.currentVersion,isHexColor:c.f,TextSelectionToolbar:h.A,TwitterButton:m.A,Wix:ae.A,isDemoPost:s,actions:{requestFileDownloadUrl:L.requestFileDownloadUrlPromisified,requestLogin:L.requestLoginPromisified,showMessage:L.showMessage},bi:{fileDownloaded:L.fileDownloaded}};return n().createElement(X,G)}}}]);
//# sourceMappingURL=rich-content-viewer.chunk.min.js.map